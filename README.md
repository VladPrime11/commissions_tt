### 1. Запуск розрахунку комісій

```bash
python main.py --input dataset.json --output commissions.json
```

### 2. Тест продуктивності на фейкових даних:

```bash
python benchmark_test.py --n 50000
```

### 3. Тест продуктивності з обмеженням ресурсів (Docker)

- Побудова образу:

```bash
docker build -t mlm-benchmark .
```

- Запуск із CPU/RAM:

```bash
docker run --rm --cpus="4.0" --memory="8g" -v "${PWD}/temp:/app/temp" mlm-benchmark python benchmark_test.py --n 50000
```
### 4. Tests
```bash
pip install -r requirements.txt
```
```bash
pytest
```
### 5. Використаний алгоритм

Для розрахунку комісій у мережі використано алгоритм обходу графа в глибину (DFS) з використанням рекурсії та мемоізацією. Кожен партнер має одного батька та довільну кількість дітей (нащадків).

Ми рекурсивно обходимо дітей кожного партнера, обчислюючи їхній денний дохід, і передаємо цю суму вгору по ієрархії.

Завдяки мемоізації результати для кожного партнера кешуються, щоб уникнути повторного обчислення вже оброблених вузлів.

Bottom-up підхід: ми накопичуємо дані від найнижчого рівня дерева до самої вершини.

#### Чому не Bottom-up DP:

**Переваги** 
- Відсутність рекурсії та обмежень глибини стеку

**Недоліки:** 
- Вимагає спочатку побудову рівнів дерева
- Менш зрозумілий код в порівнянні з природною рекурсією для таких структур

**Висновок:** Bottom-up підхід технічно гарний і підходить, але вимагає додаткової інфраструктури без суттєвих переваг для даної задачі.

#### Чому не ітеративний DFS:

**Переваги:** 
- Відсутній ризик переповнення стеку
- Менше споживання памяті на стек викликів
- Підходить до дерев в, яких тисячі рівнів глибини

**Недоліки:** 
- Складніший код, і потрібно вручну керувати станом обходу
- Потрібно зробити додаткову логіку, яка буде відстежувати чи пройшли обробку діти вузла
- Гірша чітабельність коду, не відразу можна зрозуміти що відбуваєтся

**Висновок:** Ітеративний підхід слід використовувати у випадках, коли є екстремально глибокі дерева, але для типових MLM структур додаткова складність не несе в собі сенсу. Рекурсія простіша та зрозуміліша.
